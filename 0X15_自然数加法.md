# 0X15 自然数加法

## 三歧性

之前已经介绍过，对于自然数集合N中的元素x，CreateSet(x)也是一个自然数，并且称之为x的后继数。

假设y是x的后继数。我们称y大于x。记为“x>y”，我们约定用函数greatthan(x,y)表示关系判断。而“x≥y”表示命题“x大于y或x等于y”成立，称为大于等于关系。我们约定用geq(x,y)表示大于等于关系判断。

与大于相对应的还有小于。例如“x<y”表述“x小于y”。我们约定用lessthan(x,y)表示小于关系判断，用leq(x,y)表示小于等于 关系判断。

不等关系具有传递性，如果x大于y，y大于z，则x大于z。同样，如果x小于y，y小于z，则x小于z。

这样我们可以得出对于任意两个自然数x和y。他们要么相等，要么是x大于y的关系，要么是x小于y的关系。这称为自然数的三岐性。

## 后继与加1

我们定义自然数中的一种运算，它输入两个自然数输出一个自然数。我们叫这种运算为加法。用函数plus表示。我们定义这个运算具有如下三条性质：

1. 任意自然数x与0加和，结果等于这个自然数x。
1. 任意自然数x与1加和，结果等于x的后继数。
1. 对于任意自然数x，y，x的后继数与y的和等于x与y和的后继数。

利用第三条性质，我们能把任意两个自然数相加变为若干次求后继数运算。（其实就是从0开始数数。）这样我们理论上就有了计算任意两个数加和的方法。

## 加法表

按照定义我们可以计算出任意两个自然数的和。但是每次求加法就数数显然不现实。用算法的术语说，这种计算方法的时间复杂度太高了（你可以试试按定义法计算10000加10000）。

正好我们常用位置记数法来表示数字，我们可以用一种基于自然数位置记数法的算法来简化运算。这种运算把加法运算变成了一系列查表替换的运算。有了这种形式化的算法，我们可以把加法运算交给可能根本不知道什么是无穷公理，什么是自然数的机器。

为了简单起见，我们先用二进制来说明。

首先，计算两个基本符号相加，总共有四种情况。其中plus(0,0)等于0,plus(0,0B1)和plus(0B1,0)等于1。plus(0B1,0B1)等于0B10。最后一种情况出现了“进位”，也就是说这一位的计算结果不能在这一位用一个基本符号表示，需要用这位左边一位的符号进行体现。

在计算两个二进制数相加的时候我们先把两个数对齐，对应位置上的俩个基本符号按照二进制加法表运算。如果有进位则先记录下来进到了哪一位。如果进位不为0，就把进位和第一步加法的结果再进行一次加和，重复步骤直到不再有进位为止。例如0B1111和0B1001相加。按位相加得到结果是0B0110，另外有进位0B10010。把第一次的和和进位再次加和，得到0B10100和进位0B100。再次加和得到0X10000和进位0B1000。再次加和得到0B11000。

这种方法其实可以扩展到任何一种进制的记数法。例如十进制中就是我们小学学的那种计算方法。只不过一般来说，进制越大，进位次数越少，但是规则越复杂（十进制基本符号相加有一百条规则，十六进制基本符号相加有二百五十六条规则）。这也体现了算法上时间-空间的平衡（运算更快，但是程序占用空间更大）。
