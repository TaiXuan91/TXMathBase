# 0X2B 公倍数和公因数

## 公因数

对于两个正整数$A,B$，如果存在正整数$C$，使得$candiv(C,A),candiv(c,B)$，那么称$C$为$A,B$的公因数。

两个数可以有很多个公因数。但是对于两个给定的数，它们最大公因数（公因数中最大的）是唯一的。

我们可以这样定义最大公因数：对于正整数$A,B$，存在$C$,使得$candiv(C,A),candiv(C,B)$。并且对于任意$D,candiv(D,A),candiv(D,B)$有$C\geq D$。那么称$C$为$A,B$的最大公因数（也叫“最大公约数”）。

如果两个大于1的整数的最大公因数为1，称这两个数互素（或者称互质）。

## 最大公因数求法

求最大公因数有很多方法。比如比较两个数的因数分解，取公共素因子（如果一个素因子在两边次数不等则取最小的次数）乘起来就是两个数的最大公因数。

此外还有什么辗转相除法，更相减损术。这里不一一列举。但是我们约定函数$gcf(A,B)$表示$A,B$的最大公因数(the greatest common factor / the greatest common divisor)。

$gcf$可以接受多于两个的参数。表示多个数的最大公因数。这时这个“最大公因数”，要能整除所有参数，并且是公因数中最大的。

## 最小公倍数

对于正整数$A,B$，如果存在一个正整数$C$,使得$candiv(A,C),candiv(B,C)$。那么$C$称为$A,B$的公倍数。

公倍数同样可以有很多个（其实是无穷的），比照最大公因数，我们可以定义最小公倍数:对于正整数$A,B$，存在$C$,使得$candiv(A,C),candiv(B,C)$。并且对于任意$D,candiv(A,D),candiv(B,D)$有$C\leq D$。那么称$C$为$A,B$的最小公倍数。

最小公倍数可以通过最大公约数计算。假设$D$是$A,B$的最大公因数。那么$A\times B\div D$就是$A,B$的最小公倍数（因为$A,B$相乘的时候重复的因子会被乘两次，所以要除掉一个最大公因数）。

我们用$lcm$函数来计算两个或者更多正整数的最小公倍数(the least common multiple)。

通过因数分解，我们可以得到这样的一个结论：两个正整数的最大公因数可以整除其最小公倍数。

## 用Python计算

在一般的物理或者工程计算中，最大公因数，最小公倍数其实用得不多（因为出现整数物理量都是非常罕见的事情）。

所以数值计算的库里不提供这类功能。我们需要用sympy来计算两个数的公因数。函数名和我们这里定义的一样。

```python
from sympy import *
gcd(32,36)
lcm(12,6)
```

需要注意的是，sympy的这两个函数其实比我们今天介绍到的适用范围要广。因为它们其实是在求“最大公因式”和“最小公倍式”。例如：

```python
x,y=symbols('x y')
f = (x**3)*y
g = x*(y**2)
gcd(f,g)
lcm(f,g)
```
