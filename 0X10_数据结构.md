# 0X10 数据结构

## 再谈关系

我们说函数表达的元素对应是一种关系，相等是一种关系，不相等也是一种关系 ，属于是一种关系，而不属于也是一种关系。通过之前的铺垫，我们可以用有序对的集合来表示两个集合中元素之间的关系。推而广之，用有序三元组可以表示三个元素之间的关系，更多元的序列可以表示更多元素之间的关系。

## 结构

就我所看到的教材中，其实没有准确说明什么是“数据结构”。所以我试着给出我的定义。

结构：一些元素和这些元素之间的关系构成一个结构。

这些元素构成一个集合。它们之间的关系是另一个集合（这个集合是之前提到的那些元素的集合对自身的笛卡尔积的子集）。

例如有集合A=CreateSet(a,b,c,d,e)。有关于这个集合的关系集合Rel=CreateSet((a,b),(a,c),(b,d),(b,e))。这两个集合组成的有序对(A,Rel)就是一个结构（如果认为集合Rel中的每一个元素表示一对父子节点关系，这个结构就是一个二叉树）。

（这里其实有个有趣的话题。有序对中的元素之间的先后关系本身也是一种关系，这种关系又可以用它本身来表示。）

## 数据结构

在计算机专业的课程中有一门名为“数据结构”的课程。很多书并没有开宗明义地说明什么是“数据结构”。按照我们刚刚约定的“结构”的概念，“数据结构”是研究结构和结构变化（结构运算，结构映射）的学科。数据结构中的“结构的操作”其实就是从一种状态的结构到另一种状态的结构的映射。

代数研究对象和对象的变化（运算），在这个意义上数据结构是一种代数。

## 几种常见的结构

代数，尤其是抽象代数在一开始并不会直接讨论一些含有结构的代数系统或者以结构为对象的代数系统。比较基础的群环域等都不针对具体的代数系统。实数加法构成群，矩阵加法也构成群，一些特殊约定过的字符串和字符串运算也能构成群。

但是在线性代数中，经常会涉及向量，矩阵之类的结构。这里要做一个简单的介绍。

### 向量

设有集合A。若干个集合A中的元素（可以重复也可以不重复）的一个有序排列就是一个集合A的向量（这个有序排列其实对应于A的若干次对自身的笛卡尔积中的元素）。如果这个向量是由两元素组成就称为二维向量，如果有三个元素组成就称为三维向量，仅仅是一个元素就是一维向量，其他的依此类推。

例如三维实数向量(2,3.2,1.5)。它的对象集合是CreateSet(1.5,2,3.2)，它的关系集合是CreateSet((2,3.2),(3.2,1.5))（这里的每一对关系都是一对先后关系）。

由于向量本身也是对象，也能构成集合。由集合A的向量构成的向量，相对于集合A来说就叫做集合A的矩阵。依此类推我们还可以有向量的向量的向量，向量的向量的向量的向量等等。为了统一称呼。我们把集合A的向量称为集合A的1阶张量，把集合A的向量的向量称为集合A的2阶张量，把集合A的向量的向量的向量称为集合A的3阶张量……

特别的我们把集合A中的元素称为集合A的0阶张量。

在讨论实数集合及其向量时，我们经常也把0阶张量（也就是实数对象本身）称为“纯量”。

### 线性结构

向量其实是一种比较简单的结构。首先它的关系集合中只涉及二元的关系。这种关系表示一种先后，或者说顺序。对于对象集合中的每一个元素，它最多能在关系集合的关系中出现两次。一次作为前驱，表示它在另一个对象之前。另一次作为后继表示它排在另一个对象之后。

这样的结构在计算机学当中一般叫做线性结构。线性结构之间的变换（连接，拆分，打乱，重排）就是数据结构的一个课题。不过计算机学除了要在理论上，数学上讨论这些变换，还经常要讨论如何在现有的计算机结构上表示这些结构并且写程序完成这些结构的变换。

### 树和森林

线性结构的约束非常强，所以线性结构本身并不复杂。大致来说，把线性结构的约束略微放宽，我们就能得到另一种常见，但是要比线性结构略微复杂的结构。对象集合中的每一个元素仍然只能最多作为一个对象的后继，但是却可以同时作为多个对象的前驱。这样我们就得到了树结构(不严格地说)。

（应当注意如果仅仅限制前驱和后继数量。线性结构中是无法排除环形结构，也无法排除断头的。而这里描述的“树”其实包括了树和森林，而且也无法排除树的根节点和其一个叶节点形成环。作为简单的讨论我没有在这里深究这些细节。以后严格讨论数据结构的时候会说明各种数据结构的严格定义。）

### 图

如果进一步放松限制。一个元素可以同时作为多个对象的后继，也可以同时作为多个对象的前驱。这样我们得到的结构就称为图。线性结构，树，图，这三种结构就是一般数据结构书籍中讨论的重点。

或许你会好奇这三种结构中的关系都是二元关系，那么基于三元关系乃至更多元关系的结构应当如何处理。事实是很多涉及更多元关系的结构都能通过一定的约定和映射转化为二元关系结构。即使是在研究二元关系结构中我们也经常把图化为树，把树化为线性结构，以此来简化问题。
