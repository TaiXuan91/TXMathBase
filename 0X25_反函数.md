# 0X25 反函数

## 把函数关系反过来

之前我们讨论函数时说它是一种“关系”。

我们假设有集合A和集合B。a是A中任意元素，b是B中任意元素。那么设所有可能的有序对(a,b)的集合为C。（C是集合A和集合B的笛卡儿积。）C的子集就是A到B的“关系”。

比如平方函数，输入1输出1，输入2输出4，输入3输出9。那么它对应的关系集合中的元素就有(1,1),(2,4),(3,9)。

如果把一个函数对应的关系集合中的所有有序对前后元素颠倒。那么我们仍然能得到一个关系集合，仍然能得到一个函数。但是这个函数的对应关系，变化过程正好和之前的函数是反过来的。我们称这两个函数互为反函数。

比如把平方函数中的关系元素全颠倒得到(1,1),(4,2),(9,3)。能体现这些关系的函数就是开平方函数。它和平方函数互为反函数。

## 直观解释

直观一些来解释，一个函数f把一个元素x变成另一个元素y。而f的反函数g又把y变回x。

## 对数函数

加法和乘法的逆的问题我们讨论过很多次了。这里我们讨论一下幂运算的问题。

幂运算涉及三个数——底数，指数，和作为运算结果的幂。

如果已知幂和指数求底数那么无非就是开方运算。就像平方函数的反函数是开平方函数。在实数可以作为指数的情况下，这两个互为反函数的函数其实都是在做幂运算。

但是如果知道幂和底数，要求指数，就不能通过另一次幂运算实现了。这就需要一种新的运算——求对数运算。已知x的n次幂等于y。x和y的值已知，求n的值。那么用对数运算说n就是以x为底y的对数。

如果要手工计算对数其实和开方，算实数指数幂类似。都是通过查表，替换尝试来不断逼近。当然你也可以用计算器算。

我们一般用log表示对数运算。按照python的语法，“以2为底8的对数”记为log(8,2)（底数写在后边）。

```python
import math
math.log(8,2)
```

关于python的这个函数我再多说一句。如果不指定底数，默认求得的对数是以自然对数底数e为底的。关于e是什么我们以后再说。

## 关于基本初等函数

很多教材都在分析学之间详细回顾一下常数函数，幂函数，指数函数，对数函数，三角函数 ，三角函数这些被称为“基本初等函数”的函数的性质和图像。但是我一直有意避开这些内容。像等到介绍完泰勒展开之后再讨论。这样可以提供一个看问题的新角度。

如果先学了基本初等函数再学泰勒展开，那么就是用泰勒公式“展开”我们已知的函数。

但我们也可以反过来看。我们可以基于无穷级数来定义出对数函数，三角函数等。而且这样形式上也和矩阵函数的定义一致。

## 函数也能运算

代数结构是抽象的，它不仅仅适用于数。比如我们可以定义函数复合为函数的乘法运算。恒等变换（输入什么就原样输出）为函数中的乘法单位元。那么互为反函数的两个函数就互为乘法逆元。只要再说明结合律成立，我们之前和以后要讨论的一切适用于群的特性也都适用于函数和函数符合运算。





函数也是群

泰勒展开正式引入对数以后介绍对数运算法则，换底公式等